<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planner de Estudos Interativo</title>
    
    <!-- PWA and Mobile App Meta Tags -->
    <meta name="theme-color" content="#4f46e5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Planner">
    <link rel="manifest" href="data:application/manifest+json;base64,ewogICJuYW1lIjogIlBsYW5uZXIgZGUgRXN0dWRvcyIsCiAgInNob3J0X25hbWUiOiAiUGxhbm5lciIsCiAgInN0YXJ0X3VybCI6ICIuIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZTBhNWVjIiwKICAidGhlbWVfY29sb3IiOiAiIzRhNTBiYyIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTkyJyBoZWlnaHQ9JzE5Micgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSdub25lJyBzdHJva2U9JyUyMzRhNTBiYycgc3Ryb2tlLXdpZHRoPScyJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIGNsYXNzPSdmZWF0aGVyIGZlYXRoZXItYm9vay1vcGVuJyUzRSUzQ3BhdGggZD0nTTIgM2g2YTQgNCAwIDAgMSA0IDR2MTRhMyAzIDAgMCAwLTMtM0gyeicgLzUzRSUzQ3BhdGggZD0nTTIyIDNoLTZhNCA0IDAgMCAwLTQgNHYxNGEzIDMgMCAwIDEgMy0zaDd6JyAvJTNFJTNDL3N2ZyUzRSIsCiAgICAgICJ0eXBlIjogImltYWdlL3N2Zyt4bWwiLAogICAgICAic2l6ZXMiOiAiMTkyeDE5MiIKICAgIH0sCiAgICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNTEyJyBoZWlnaHQ9JzUxMicgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSdub25lJyBzdHJva2U9JyUyMzRhNTBiYycgc3Ryb2tlLXdpZHRoPScyJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIGNsYXNzPSdmZWF0aGVyIGZlYXRoZXItYm9vay1vcGVuJyUzRSUzQ3BhdGggZD0nTTIgM2g2YTQgNCAwIDAgMSA0IDR2MTRhMyAzIDAgMCAwLTMtM0gyeicgLzUzRSUzQ3BhdGggZD0nTTIyIDNoLTZhNCA0IDAgMCAwLTQgNHYxNGEzIDMgMCAwIDEgMy0zaDd6JyAvJTNFJTNDL3N2ZyUzRSIsCiAgICAgICJ0eXBlIjogImltYWdlL3N2Zyt4bWwiLAogICAgICAic2l6ZXMiOiAiNTEyeDUxMiIKICAgIH0KICBdCn0K">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #e0e5ec;
            --light-shadow: #ffffff;
            --dark-shadow: #a3b1c6;
            --accent-color: #4a50bc;
            --text-color: #5c677b;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
        }
        .neumorphic-out {
            border-radius: 20px;
            background: var(--bg-color);
            box-shadow: 8px 8px 15px var(--dark-shadow), -8px -8px 15px var(--light-shadow);
        }
        .link-icon {
            display: inline-block;
            width: 1em;
            height: 1em;
            margin-left: 0.25rem;
            vertical-align: -0.125em;
        }
        .custom-checkbox {
            -webkit-appearance: none;
            appearance: none;
            background-color: var(--bg-color);
            border-radius: 5px;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            box-shadow: 3px 3px 6px var(--dark-shadow), -3px -3px 6px var(--light-shadow);
        }
        .custom-checkbox:checked {
            box-shadow: inset 2px 2px 5px var(--dark-shadow), inset -2px -2px 5px var(--light-shadow);
            background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='%234a50bc' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
        }
        .task-text.completed {
            text-decoration: line-through;
            opacity: 0.6;
            color: var(--text-color);
        }
        .progress-track {
            background: var(--bg-color);
            border-radius: 9999px;
            box-shadow: inset 2px 2px 5px var(--dark-shadow), inset -2px -2px 5px var(--light-shadow);
        }
        .progress-fill {
            background-color: var(--accent-color);
            border-radius: 9999px;
        }
        .neu-select {
            -webkit-appearance: none;
            appearance: none;
            background-color: var(--bg-color);
            border: none;
            padding: 0.625rem; /* p-2.5 */
            border-radius: 8px; /* rounded-lg */
            box-shadow: 3px 3px 6px var(--dark-shadow), -3px -3px 6px var(--light-shadow);
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' class='h-5 w-5' viewBox='0 0 20 20' fill='%235c677b'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd' /%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 1.5em 1.5em;
        }

    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 md:p-8">
        
        <!-- Cabeçalho -->
        <header class="text-center mb-12">
            <h1 class="text-3xl md:text-5xl font-bold pb-2" style="color: var(--text-color);">Planner de Estudos Anual</h1>
            <p class="mt-2 text-lg" style="color: var(--text-color); opacity: 0.8;">Acompanhe seu progresso no Cronograma dos Fluentes.</p>
        </header>

        <!-- Seletor de Semana e Barra de Progresso -->
        <div class="neumorphic-out p-6 mb-8 sticky top-4 z-10">
            <h2 class="text-xl font-semibold text-center mb-6" style="color: var(--text-color);">
                Em qual semana você está: <span id="current-week-display" class="font-bold" style="color: var(--accent-color);"></span>
            </h2>
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                <div class="flex items-center gap-3">
                    <label for="week-selector" class="text-lg font-semibold" style="color: var(--text-color);">Semana:</label>
                    <select id="week-selector" class="neu-select text-sm w-24">
                        <!-- Opções de semanas serão geradas pelo JavaScript -->
                    </select>
                </div>
                <div class="w-full md:w-1/2">
                    <div class="flex justify-between mb-1">
                        <span class="text-base font-medium" style="color: var(--accent-color);">Progresso da Semana</span>
                        <span id="progress-text" class="text-sm font-medium" style="color: var(--accent-color);">0%</span>
                    </div>
                    <div class="w-full h-2.5 progress-track">
                        <div id="progress-bar" class="h-2.5 progress-fill transition-all duration-500" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Conteúdo do Planner -->
        <main id="planner-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            <!-- Os cards dos dias serão gerados pelo JavaScript -->
        </main>
        
        <footer class="text-center mt-12" style="color: var(--text-color); opacity: 0.7;">
            <p>Criado com base no "Planner Anual - 52 Semanas - CDF".</p>
        </footer>

    </div>

    <script>
        // --- INÍCIO: DADOS DO PLANNER ---
        const linkIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="link-icon" viewBox="0 0 20 20" fill="currentColor"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 001.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" /><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" /></svg>`;
        const linkClass = `class="font-semibold hover:opacity-80 transition-opacity inline-flex items-center" style="color: var(--accent-color);" target="_blank" rel="noopener noreferrer"`;
        
        const plannerData = [
            // Semana 1
            { week: 1, days: [
                { day: 1, tasks: ["Assista à aula 1.", "Faça o Quiz 1.", "Escreva um breve texto se apresentando, revelando seu nome, sua origem e o que você faz. Use os conhecimentos adquiridos em aula.", "Compartilhe o texto na nossa comunidade para nos conhecermos melhor."] },
                { day: 2, tasks: ["Assista à aula 2.", "Faça o Quiz 2.", `Escreva entre 3 a 5 frases sobre o seu dia. Use o <a href="https://context.reverso.net/" ${linkClass}>Reverso Contexto${linkIcon}</a> ou <a href="https://www.collinsdictionary.com/" ${linkClass}>Collins${linkIcon}</a> se precisar.`, "Use o aplicativo Speak Aloud para treinar sua pronúncia. Insira cada frase do seu texto, ouça atentamente e repita em voz alta."] },
                { day: 3, tasks: ["Assista à aula 3.", "Faça o Quiz 3.", `Acompanhe um canal gringo no <a href="https://www.youtube.com/" ${linkClass}>YouTube${linkIcon}</a>. Use a nossa lista de canais, acessando o módulo de introdução.`, "Assista ao vídeo que foi escolhido e tente identificar o tema principal ou palavras que já conhece."] },
                { day: 4, tasks: ["Assista à aula 4.", "Faça o Quiz 4.", "Use este prompt para ter uma conversa com o Fluêncio, nosso chatbot: \"Hi! I'm [your name]. I am learning English. Let's talk!\"", "Você também pode pedir ao Fluêncio que corrija suas frases."] },
                { day: 5, tasks: ["Assista à aula 5.", "Faça o Quiz 5.", `Aprenda com uma música usando o <a href="https://lyricstraining.com/" ${linkClass}>Lyricstraining${linkIcon}</a>. Procure por sua música favorita e selecione seu nível.`, "Anote algumas palavras novas da música e busque pelo seu significado. Crie frases de exemplo."] },
                { day: 6, tasks: ["Assista à aula 6.", "Faça o Quiz 6.", `Procure vocabulários de objetos de um cômodo da sua casa usando o <a href="https://www.collinsdictionary.com/" ${linkClass}>dicionário Collins${linkIcon}</a>.`, "Cole notas adesivas nos objetos e faça frases com algumas das palavras que buscou."] },
                { day: 7, tasks: ["Assista à aula 7.", "Faça o Quiz 7.", "Escreva um breve resumo sobre a sua semana em inglês e poste em nossa comunidade.", "Assista a um filme ou série em inglês. Tente focar na pronúncia e imitar o que está sendo falado."] }
            ]},
            // Semana 2
            { week: 2, days: [
                { day: 8, tasks: ["Assista à aula 8.", "Faça o Quiz 8.", `Escolha uma receita no site <a href="https://tasty.co/" ${linkClass}>Tasty${linkIcon}</a>, leia seus ingredientes e método de preparo.`, "Use o aplicativo Speak Aloud para treinar a pronúncia das palavras novas."] },
                { day: 9, tasks: ["Assista à aula 9.", "Faça o Quiz 9.", `Escreva sua receita favorita em inglês. Use o <a href="https://context.reverso.net/" ${linkClass}>Reverso Contexto${linkIcon}</a> ou <a href="https://www.collinsdictionary.com/" ${linkClass}>Collins${linkIcon}</a>.`, "Use o Speak Aloud para praticar a pronúncia das palavras que você estudou."] },
                { day: 10, tasks: ["Assista à aula 10.", "Faça o Quiz 10.", `Escute a notícia <a href="https://www.newsinlevels.com/products/people-throw-away-food-level-1/" ${linkClass}>'People throw away food'${linkIcon}</a> (nível 1).`, "Leia a notícia, busque pelas palavras que não conhece e responda à pergunta nos comentários."] },
                { day: 11, tasks: ["Assista à aula 11.", "Faça o Quiz 11.", `Assista a um tutorial de culinária em inglês no <a href="https://www.youtube.com/" ${linkClass}>YouTube${linkIcon}</a>. Pause o vídeo e repita em voz alta.`, "Anote os ingredientes e, se possível, reproduza o prato e compartilhe uma foto na comunidade."] },
                { day: 12, tasks: ["Assista à aula 12.", "Faça o Quiz 12.", "Converse com o Fluêncio: \"Hi! What is your favorite food? I like [name of food]. Do you like it too?\"", `Expanda seu vocabulário no site <a href="https://www.eslgamesplus.com/" ${linkClass}>ESL Games${linkIcon}</a> com o tema "Food".`] },
                { day: 13, tasks: ["Assista à aula 13.", "Faça o Quiz 13.", `Escute o Podcast <a href="https://learningenglish.voanews.com/a/let-s-learn-english-lesson-19-what-s-that-smell-/3415910.html" ${linkClass}>'The smell of coffee'${linkIcon}</a>. Leia o vocabulário e a transcrição.`, "Poste na comunidade se você gosta ou não de café e com que frequência você toma."] },
                { day: 14, tasks: ["Assista à aula 14.", "Faça o Quiz 14.", "Assista a um programa de TV sobre culinária.", "Imagine que você é o apresentador. Escreva um mini-roteiro da receita que você ensinaria."] }
            ]},
            // Semana 3
            { week: 3, days: [
                 { day: 15, tasks: ["Assista à aula 15.", "Faça o Quiz 15.", "Crie uma lista de compras pesquisando o vocabulário de itens do seu dia-a-dia.", "Leia as embalagens dos produtos em inglês enquanto faz compras."] },
                 { day: 16, tasks: ["Assista à aula 16.", "Faça o Quiz 16.", `Explore o <a href="https://www.esl-lab.com/" ${linkClass}>ESL Lab${linkIcon}</a> para ouvir áudios em inglês sobre diferentes tópicos.`, `Navegue pela seção 'Listen & Watch' do <a href="https://www.bbc.co.uk/learningenglish" ${linkClass}>BBC Learning English${linkIcon}</a>.`] },
                 { day: 17, tasks: ["Assista à aula 17.", "Faça o Quiz 17.", `Assista a um vídeo tutorial sobre projetos DIY (Faça você mesmo) no <a href="https://www.youtube.com/" ${linkClass}>YouTube${linkIcon}</a>.`, `Explore comics e graphic novels em sites como <a href="https://www.gutenberg.org/" ${linkClass}>Project Gutenberg${linkIcon}</a> ou <a href="https://www.webtoons.com/" ${linkClass}>Webtoon${linkIcon}</a>.`] },
                 { day: 18, tasks: ["Assista à aula 18.", "Faça o Quiz 18.", `Faça a palavra cruzada do dia no site <a href="https://www.usatoday.com/crosswords" ${linkClass}>USA Today${linkIcon}</a>.`, "Escreva sua rotina em inglês (atividades matinais, trabalho, estudos e lazer)."] },
                 { day: 19, tasks: ["Assista à aula 19.", "Faça o Quiz 19.", "Leia em voz alta o e-mail ou carta que você escreveu.", `Pesquise por um restaurante famoso e explore seu site oficial.`] },
                 { day: 20, tasks: ["Assista à aula 20.", "Faça o Quiz 20.", "Converse com o Fluêncio sobre sua rotina: \"Hi! Let's talk about routine. Ask me some questions\".", "Escreva uma carta simples ou um e-mail para um amigo em inglês."] },
                 { day: 21, tasks: ["Assista à aula 21.", "Faça o Quiz 21.", "Crie cartões de memorização com palavras que você estudou recentemente.", "Imagine que está em um supermercado e escreva um diálogo pedindo ajuda para encontrar itens da sua lista."] }
            ]},
            // Semana 4
            { week: 4, days: [
                { day: 22, tasks: ["Assista à aula 22.", "Faça o Quiz 22.", "Leia posts das redes sociais dos seus artistas favoritos.", "Assista 15 segundos de uma série ou filme sem legendas e anote o que entendeu."] },
                { day: 23, tasks: ["Assista à aula 23.", "Faça o Quiz 23.", "Leia uma biografia curta de um dos seus artistas favoritos.", `Ouça diálogos simples no site <a href="https://www.elllo.org/" ${linkClass}>Elllo${linkIcon}</a>, selecionando o nível iniciante.`] },
                { day: 24, tasks: ["Assista à aula 24.", "Faça o Quiz 24.", `Leia uma notícia sobre seu artista favorito em sites como <a href="https://people.com/" ${linkClass}>People${linkIcon}</a> ou <a href="https://www.eonline.com/" ${linkClass}>E! News${linkIcon}</a>.`, `Use o <a href="https://lyricstraining.com/" ${linkClass}>Lyrics Training${linkIcon}</a> para estudar com uma música de um artista que você gosta.`] },
                { day: 25, tasks: ["Assista à aula 25.", "Faça o Quiz 25.", "Leia em voz alta um trecho de notícia ou post do seu artista.", `Escute uma entrevista em um podcast, como o <a href="https://armchairexpertpod.com/" ${linkClass}>The Armchair Expert${linkIcon}</a>.`] },
                { day: 26, tasks: ["Assista à aula 26.", "Faça o Quiz 26.", "Escreva 3 frases sobre o seu dia e compartilhe na comunidade.", "Converse com o Fluêncio: \"Hello, Let's chat about [nome do artista]. Ask me questions about him/her.\""] },
                { day: 27, tasks: ["Assista à aula 27.", "Faça o Quiz 27.", `Faça um quiz divertido no site <a href="https://www.eslgamesplus.com/" ${linkClass}>ESL Games${linkIcon}</a>.`, "Tente imitar a pronúncia do seu artista favorito, seja em músicas ou cenas de filmes."] },
                { day: 28, tasks: ["Assista à aula 28.", "Faça o Quiz 28.", "Crie pelo menos 5 frases com as palavras que você aprendeu durante a semana.", "Procure por vocabulários de objetos do seu quarto e cole notas adesivas para memorizar."] }
            ]},
        ];

        // Função para gerar dados de exemplo para as semanas restantes
        function generateSampleData() {
            const existingWeeks = plannerData.length;
            for (let i = existingWeeks + 1; i <= 52; i++) {
                const weekData = {
                    week: i,
                    days: []
                };
                for (let j = 1; j <= 7; j++) {
                    const dayNumber = (i - 1) * 7 + j;
                    weekData.days.push({
                        day: dayNumber,
                        tasks: [
                            `Assista à aula ${dayNumber}.`,
                            `Faça o Quiz ${dayNumber}.`,
                            `Atividade de escrita da semana ${i}, dia ${j}.`,
                            `Atividade de escuta da semana ${i}, dia ${j}.`,
                            `Atividade de conversação da semana ${i}, dia ${j}.`
                        ]
                    });
                }
                plannerData.push(weekData);
            }
        }
        
        generateSampleData();
        // --- FIM: DADOS DO PLANNER ---

        const weekSelector = document.getElementById('week-selector');
        const plannerContent = document.getElementById('planner-content');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const currentWeekDisplay = document.getElementById('current-week-display');
        
        let currentWeek = 1;
        let completionStatus = {};

        // Carrega o progresso salvo
        function loadProgress() {
            const savedProgress = localStorage.getItem('plannerProgress');
            if (savedProgress) {
                completionStatus = JSON.parse(savedProgress);
            }
            const savedWeek = localStorage.getItem('currentWeek');
            if (savedWeek) {
                currentWeek = parseInt(savedWeek, 10);
            }
        }

        // Salva o progresso
        function saveProgress() {
            localStorage.setItem('plannerProgress', JSON.stringify(completionStatus));
            localStorage.setItem('currentWeek', currentWeek);
        }

        // Popula o seletor de semanas
        function populateWeekSelector() {
            plannerData.forEach(week => {
                const option = document.createElement('option');
                option.value = week.week;
                option.textContent = `${week.week}`;
                if (week.week === currentWeek) {
                    option.selected = true;
                }
                weekSelector.appendChild(option);
            });
        }

        // Renderiza a semana selecionada
        function renderWeek(weekNumber) {
            const weekData = plannerData.find(w => w.week === parseInt(weekNumber, 10));
            if (!weekData) return;

            plannerContent.innerHTML = '';
            currentWeekDisplay.textContent = weekNumber;
            
            weekData.days.forEach(day => {
                const dayCard = document.createElement('div');
                dayCard.className = 'neumorphic-out p-6 flex flex-col gap-4';
                
                let tasksHtml = day.tasks.map((task, index) => {
                    const taskId = `w${weekNumber}-d${day.day}-t${index}`;
                    const isCompleted = completionStatus[taskId] || false;
                    return `
                        <li class="flex items-start">
                            <input id="${taskId}" type="checkbox" ${isCompleted ? 'checked' : ''} class="custom-checkbox h-5 w-5 mt-1 flex-shrink-0" data-task-id="${taskId}">
                            <label for="${taskId}" class="ml-3">
                                <span class="task-text ${isCompleted ? 'completed' : ''}">${task}</span>
                            </label>
                        </li>
                    `;
                }).join('');

                dayCard.innerHTML = `
                    <h2 class="text-xl font-bold border-b-2 pb-2 flex items-center gap-2" style="color: var(--text-color); border-color: rgba(163, 177, 198, 0.4)">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" style="color: var(--accent-color);" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                        </svg>
                        Dia ${day.day}
                    </h2>
                    <ul class="space-y-4 pt-2">
                        ${tasksHtml}
                    </ul>
                `;
                plannerContent.appendChild(dayCard);
            });

            updateProgress(weekNumber);
        }

        // Atualiza a barra de progresso
        function updateProgress(weekNumber) {
            const weekData = plannerData.find(w => w.week === parseInt(weekNumber, 10));
            if (!weekData) return;
            
            let totalTasks = 0;
            let completedTasks = 0;

            weekData.days.forEach(day => {
                totalTasks += day.tasks.length;
                day.tasks.forEach((task, index) => {
                    const taskId = `w${weekNumber}-d${day.day}-t${index}`;
                    if (completionStatus[taskId]) {
                        completedTasks++;
                    }
                });
            });

            const percentage = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            progressBar.style.width = `${percentage}%`;
            progressText.textContent = `${percentage}% completo`;
        }
        
        // Event Listeners
        weekSelector.addEventListener('change', (e) => {
            currentWeek = parseInt(e.target.value, 10);
            renderWeek(currentWeek);
            saveProgress();
        });

        plannerContent.addEventListener('change', (e) => {
            if (e.target.type === 'checkbox') {
                const taskId = e.target.dataset.taskId;
                completionStatus[taskId] = e.target.checked;

                const label = e.target.nextElementSibling;
                if (label) {
                    const textSpan = label.querySelector('.task-text');
                    textSpan.classList.toggle('completed', e.target.checked);
                }

                saveProgress();
                updateProgress(currentWeek);
            }
        });

        // Inicialização
        document.body.style.backgroundColor = 'var(--bg-color)';
        loadProgress();
        populateWeekSelector();
        renderWeek(currentWeek);
    </script>
</body>
</html>

